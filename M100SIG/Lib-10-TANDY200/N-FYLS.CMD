0 'N-FYLS.CMD(c)1990,R.W.Hess
1 CLEAR1000,59838:IPL"":CALL41179:X$="3:RAMDSK.CO":CALL63600,8,VARPTR(X$):IFPEEK(61302)THENENDELSEMAXFILES=1:DEFSTRA-H:DEFINTI-R:C=CHR$(13):E=CHR$(27):F="ZIPSRT.CO":G="[NFYL].DO":DIMJ(255):K=-739
2 PRINT@0,E"V"E"p N-FYLS.200(c)"SPACE$(26)E"q"E"J"
3 GOSUB25:D=F+C+C+"Y":GOSUB24:CALL60444:GOSUB25:PRINT@610," updating "G" ";:CLOSE:OPENGFOROUTPUTAS1:PRINT#1,DATE$" @ "TIME$
4 OUT129,0:FORI=0TO255:J(I)=INP(131):J=INP(131):IFJ(I)>127THENN=I
5 NEXT:FORI=1TON:IFJ(I)>127THENOUT129,I:FORO=1TO6:GOSUB26:NEXT:PRINT#1,".";:GOSUB26:GOSUB26:PRINT#1,","INP(131)+256*INP(131)
6 NEXT:CLOSE:LOADMF:KILLF:A=G+CHR$(0):V=VARPTR(A):CALL63590,1,PEEK(V+1)+256*PEEK(V+2):D=G+C+C+"Y":GOSUB24:GOSUB30:CALL60218
7 GOSUB25:PRINT@282,"<E>dit directory  <P>rint directory":GOSUB29
8 H=INKEY$:IFH=ETHEN23ELSEIFH=""THEN8ELSEIFINSTR("Pp",H)THEN18ELSEIFINSTR("Ee",H)=0THEN8
9 GOSUB27:GOSUB28
10 IFEOF(1)THENIFPTHENRUNELSEGOSUB27:GOTO10ELSEINPUT#1,B,S
11 PRINT@292,BUSING" #####";S
12 H=INKEY$:IFH=""THEN12ELSEIFH=ETHEN23ELSEIFH=CTHEN10ELSEL=ASC(H)AND95:IFL=75THEN14ELSEIFL-82THEN12
13 PRINT@368,;:LINEINPUT"as: ";A:IFA=""THEN15ELSED=B+C+A+C:GOSUB24:CALL60155:GOTO16
14 PRINT@373,;:LINEINPUT"Kill? ";H:IFLEN(H)ANDINSTR("Yy",H)THEND=B+C+"Y":GOSUB24:CALL60099:GOSUB30:GOTO16
15 GOSUB17:GOTO11
16 P=1:GOSUB17:GOSUB28:GOTO10
17 PRINT@360,E"K":RETURN
18 GOSUB25:IF(INP(187)AND6)-2THENBEEP:PRINT" NO PRINTER! ":CALL25102:GOTO18
19 GOSUB27:LPRINT:LPRINT"DATAPAC files: "B:LPRINTSTRING$(75,45):LPRINT:Q=0:PRINT@614," printing.. "
20 FORM=1TO4:IFNOTEOF(1)THENINPUT#1,B,S:Q=Q+1:LPRINTBUSING" #####     ";S;:NEXT:LPRINT:GOTO20
22 CLOSE:LPRINT:LPRINT:LPRINTUSING" ### files:   ######, bytes free";Q;T:LPRINTCHR$(12):GOTO7
23 IFPTHENRUNELSEPOKEK+1,1:POKEK+2,7:POKEK+3,255:GOSUB25:CLEAR0,MAXRAM:NEW
24 FORM=1TOLEN(D):POKEK+2*M,ASC(MID$(D,M)):POKEK+1+2*K,0:NEXT:POKEK+1,M-1:PRINTE"p":RETURN
25 PRINT@280,E"K":PRINT@320,E"K":PRINT@560,E"J"E"p"SPACE$(80)E"q":RETURN
26 PRINT#1,CHR$(INP(131));:RETURN
27 CLOSE:OPENGFORINPUTAS1:LINEINPUT#1,B:RETURN
28 GOSUB25:PRINT@601,E"p<R>e-name  <K>ill  <Cr>=Nxt"
29 PRINT@630,E"p<ESC>ends"E"q":RETURN
30 CALL60053:T=PEEK(60341)*1024:PRINT@486,E"q"USING"DATAPAC bytes free: ######,";T:RETURN

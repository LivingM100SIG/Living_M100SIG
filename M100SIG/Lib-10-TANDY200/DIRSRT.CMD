0 'DIRSRT.XOS by Paul Globman (c) 1989 
1 CLEAR1000:D$="Directory":DA=62133:ST=DA:CLS:IPL"":PRINT@290,"Reading "D$:DIMF$(31):FORI=1TO31
2 IFPEEK(DA)<128THEN4ELSEN=N+1
3 FORJ=0TO10:F$(N)=F$(N)+CHR$(PEEK(DA+J)):NEXTJ:F$(N)=MID$(F$(N)+F$(N),4,11)
4 DA=DA+11:NEXTI:PRINT@330,"Sorting "D$:M=N
5 M=INT(M/2):IFM=0THEN13
6 J=1:K=N-M
7 I=J
8 L=I+M:IFF$(I)<=F$(L)THEN11
9 T$=F$(I):F$(I)=F$(L):F$(L)=T$:I=I-M:IFI<1THEN11
10 GOTO8
11 J=J+1:IFJ>KTHEN5
12 GOTO7
13 PRINT@370,"Writing "D$:FORI=1TON:F$(I)=MID$(F$(I)+F$(I),9,11):FORJ=0TO10:POKEST+J,ASC(MID$(F$(I),J+1,1))
14 NEXTJ:ST=ST+11:NEXTI:FORJ=ITO31:POKEST,0:ST=ST+11:NEXT:MAXFILES=0:M$="MENU"+CHR$(13):AD=64798:L=LEN(M$):POKEAD,L
15 FORI=1TOL:M=ASC(MID$(M$,I,1)):POKEAD+2*I,0:POKEAD+2*I-1,M:NEXT:NEW

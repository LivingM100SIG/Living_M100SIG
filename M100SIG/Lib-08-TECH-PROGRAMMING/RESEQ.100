0 'RESEQ.100 -- Model 100 version of RESEQ.200, an M/L BA renumbering program by James Yi. Relocating loader; run to make RESEQ.CO.
1 'Load RESEQ.CO. Then load BA pgm to be renumbered. Then do 'CALL HIMEM, STEP, START' where the numbers are substituted for STEP & START.
2 GOSUB99
3 PRINT@42,"Enter end address";:PRINT@82,"<ENTER> for just below current HIMEM"
4 Y="":PRINT@122,SPACE$(30);:PRINT@122,;:INPUTY:IFY=""THENB=HIMEM-E-1ELSEB=VAL(Y)-E
5 IFB>=MAXRAM-ETHENBEEP:GOTO4ELSECLEAR256,B:B=HIMEM:GOSUB99
6 CLS:A=B:C=B+E:D=D+B:S=99:M=99:PRINT@48,"Line";:PRINT@88,"Address";
7 GOSUB60:IFO=0THENPOKEA,K:A=A+1:GOTO7
8 P=K:GOSUB60:G=P+256*K+B:P=INT(G/256):Q=G-P*256
9 POKEA,Q:A=A+1:POKEA,P:A=A+1:GOTO7
40 SAVEM"RESEQ",B,C,D:MENU
50 U=INSTR(1,Z,MID$(Y,M,1)):IFU=0THEN55
51 IFU>16THENU=U-16:O=1ELSEO=0
52 V=INSTR(1,Z,MID$(Y,M+1,1)):IFV=0ORV>16THEN55
53 K=(U-1)*16+V-1:RETURN
55 BEEP:PRINT@165,"Bad character";:END
60 IFM<N*2+5THEN70
61 IFL<>RTHENBEEP:PRINT@165,"Checksum fail";END
62 READY:M=1:GOSUB50:IFK=0THEN40
63 S=S+1:PRINT@70,S;:PRINT@110,A;:N=K:M=3:GOSUB50:M=5:L=K:GOSUB50:L=K*256+L:R=0
70 M=M+2:GOSUB50:R=R+K:RETURN
99 DEFINTI-X:DEFSTRY-Z:Z="0123456789ABCDEFGHIJKLMNOPQRSTUV":CLS:E=396:D=0:RETURN
100 DATA387F1222O001444DB7C86F260022O201AF32O4016F2B22O5012A7CF6EB21050009DAJ100ED7CB5CAJ600EB2AO20109444DD2HA001E05C35D042A7C
101 DATA384317F6EB3AO4013C32O401FE03CAK7012AO5012425FALE0023444DEBCD6D6B1E07DA5D04CD9F6BEBCD7676ED7CB5CAJ6001313ED229FFB13131A
102 DATA38F51713B7CALE0021N601BE23CAOE003435C2N800FE3AC2MF001AFE91C2MF00131BEB237EFE20CAP0002BD7DAQ000EBC3MF0022O7012BCDEC08EB
103 DATA38FD1622O9012AO001444D2A7CF6EBED7CB56B1E08CACB045D1313EDD5EB2AO901DFD1CAT9001313CDMF012AO20109444DC3R4006069CDD4393E0D
104 DATA386414E701060021E8FB0D237EFE20CAU70022OB01C52AO7010DD7DAV6002AO5010979B7F2G70108050922O501D13AO4013DCAJ7012AAEFB0922AE
105 DATA38E919FB2AO701D5DAI601CD6D6BC3IF0179EEFF4F0403CD9F6BC1EB2AOB01CDDD2E2AO701D7DAJA01EBFE2CCAOF00C3MF002A7CF6EB2AO001444D
106 DATA384D13ED7CB5CA4621D513137912137812132AO20109444DCDMF01E1732372C3L0011A13B7C2MF01C9888CCD958B89A5A693000000000000000000
107 DATA0500000000000000
108 DATA00

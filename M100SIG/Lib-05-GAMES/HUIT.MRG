0REM Merge with HUIT.BA by Stephane Burgoyne [72747,1205] for English version.  Change line 999 to your choice of default function keys
310 CALL16959:CLS:KEY2,"END"+CHR$(13):KEY3,"":KEY4,"DRAW"+CHR$(13):KEY5,CHR$(156)+CHR$(13)
440 FORK=1TO((VAL(RIGHT$(TIME$,2)))*VAL(MID$(DATE$,4,2))/3):I=RND(1):NEXT
490 CLS:PRINT"The first card is: ";C$:KEY1," "+C$+STRING$(3,8):SCREEN0,1
810 IFMO=0THEN820ELSECLS:PRINT"I have in hand :";
820 IFJO<>0THENPRINT"You have in hand:";:FORI=1TOJO:PRINTJO$(I);" ";:GOSUB825:C2=C2+Z:NEXT:PRINT
870 PRINT"Your points :";C1:PRINT"My points:";C2
890 IFC2<C1THENPRINT"You have won":N1=N1+1:GOTO950
900 IFC1<C2THENPRINT"I have won"ELSEPRINT"Round over"
950 PRINT:N3=N3+1:KEY2,"":KEY3,"YES"+CHR$(13):KEY4,"NO"+CHR$(13)
951 INPUT"Play again(YES or NO)";RP$:IFRP$="YES"THEN310
955 CALL16964:PRINT:PRINT"In ";N3;" rounds you have won ";N1;"."
956 PRINT"Your total points are ";S1;" mine are ";S2
999 CALL23164,0,23366:CALL27795:SCREEN0,0:CLEAR:END
1000 CALL17001:PRINT"Press <spacebar> to continue";:CALL17005:CALL24367:RETURN
5010 PRINT@80,"You have in hand: ";:FORI=1TOJO:PRINTJO$(I);" ";:NEXT:PRINT
5011 IFD<1THENKEY4,"NO"+CHR$(13):INPUT"Can you play ";RP$:GOTO5030
5020 LINEINPUT"Your turn to play: ";RP$
5030 GOSUB1250:IFRP$="DRAW"ORRP$="NO"THEN5040ELSEIFRP$="END"THEN810ELSE5070
5045 IFD=1THENPRINT@240,STRING$(4,255)+" There are no more cards "+STRING$(4,255):D=0:GOTO5000
5050 PRINT@240,STRING$(4,255)+" You are blocked "+STRING$(4,255):B=0:GOSUB1200:RETURN
5071 PRINT@240,STRING$(4,255)+" Illegal "+STRING$(4,255):GOTO5000
5081 NEXT:PRINT@240,STRING$(3,255)+" You don't have that card"+STRING$(4,255):GOTO5000
5100 INPUT"******* What suit?";S9$ELSERETURN
5120 NEXTI:PRINT@200,STRING$(7,255)+" ";S9$;" isn't a suit "+STRING$(3,255):CALL16979:GOTO5100
5300 PRINT@240,STRING$(7,255)+" I lose my turn":GOSUB1200:GOSUB1250:GOTO5000
5400 IFD=0THENRETURNELSEPRINT@240,STRING$(7,255)+" I draw two cards":GOSUB1200:GOSUB1250
5420 PRINT@240,"There are no more cards":D=0:GOSUB1200:GOSUB1250:RETURN
6070 IFD>1THEN6080ELSEPRINT"I cannot play a card.  I am blocked":D=0:GOSUB1200:GOSUB1250:RETURN
6160 B=1:C$=MO$(I):MO$(I)="":FORJ=ITOMO+1:MO$(J)=MO$(J+1):NEXT:MO=MO-1:CLS:PRINT"I have ";MO+1;" cards";
6161 IF(LEFT$(C$,1)<>"8")THENPRINT" and I play :";C$:KEY1," "+C$+STRING$(4,8)ELSE6205
6214 PRINT" and I play :";C$:PRINT"The new suit is: ";U$(E):KEY1," "+U$(E)+STRING$(2,8)
6405 PRINT@240,STRING$(3,255)+" You lose your turn "+STRING$(3,255):GOSUB1200:GOTO6000
6410 IFMO=0ORD=0THENRETURNELSEPRINT@240,STRING$(7,255)+" You draw two cards":GOSUB1200:GOSUB1250
6425 PRINT@240,"There are no more cards":D=0:RETURN
